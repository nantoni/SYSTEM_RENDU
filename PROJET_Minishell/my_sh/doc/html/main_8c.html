<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>my_sh: src/main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">my_sh
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">main.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>my_sh <a class="el" href="main_8c.html" title="my_sh main.c ">main.c</a>  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;main.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for main.c:</div>
<div class="dyncontent">
<div class="center"><img src="main_8c__incl.png" border="0" usemap="#src_2main_8c" alt=""/></div>
<!-- MAP 0 -->
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a91a3bbcc7eb26e8695255b2795d6e46f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a91a3bbcc7eb26e8695255b2795d6e46f">main</a> (int argc, char *argv[])</td></tr>
<tr class="memdesc:a91a3bbcc7eb26e8695255b2795d6e46f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the main application with arguments.  <a href="#a91a3bbcc7eb26e8695255b2795d6e46f">More...</a><br /></td></tr>
<tr class="separator:a91a3bbcc7eb26e8695255b2795d6e46f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5bdcb90e76f36bc8bff45bd937c36a7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ab5bdcb90e76f36bc8bff45bd937c36a7">console</a> ()</td></tr>
<tr class="memdesc:ab5bdcb90e76f36bc8bff45bd937c36a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prompts the user for a command then executes it.  <a href="#ab5bdcb90e76f36bc8bff45bd937c36a7">More...</a><br /></td></tr>
<tr class="separator:ab5bdcb90e76f36bc8bff45bd937c36a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81e1be274560fe16458cec6974b3e8b9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a81e1be274560fe16458cec6974b3e8b9">pipeSplit</a> (char *command)</td></tr>
<tr class="memdesc:a81e1be274560fe16458cec6974b3e8b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prompts the user for a command then executes it.  <a href="#a81e1be274560fe16458cec6974b3e8b9">More...</a><br /></td></tr>
<tr class="separator:a81e1be274560fe16458cec6974b3e8b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92d7837b02495600182bb05807e4bfc2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a92d7837b02495600182bb05807e4bfc2">startProcess</a> (char *command)</td></tr>
<tr class="memdesc:a92d7837b02495600182bb05807e4bfc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses the command and fork before executing the chain of conditionals commands.  <a href="#a92d7837b02495600182bb05807e4bfc2">More...</a><br /></td></tr>
<tr class="separator:a92d7837b02495600182bb05807e4bfc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07c06892aafb5e69eacc9fb538d939c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a07c06892aafb5e69eacc9fb538d939c7">superParse</a> (char *command)</td></tr>
<tr class="memdesc:a07c06892aafb5e69eacc9fb538d939c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Splits the command by "&amp;&amp;" and feeds it into the conditional structure.  <a href="#a07c06892aafb5e69eacc9fb538d939c7">More...</a><br /></td></tr>
<tr class="separator:a07c06892aafb5e69eacc9fb538d939c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f850b285bb6dab056e81fc6b7b0f13c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a2f850b285bb6dab056e81fc6b7b0f13c">execCommand</a> (char *command)</td></tr>
<tr class="memdesc:a2f850b285bb6dab056e81fc6b7b0f13c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tries to execute a commands as built in, otherwise sends it to the system function.  <a href="#a2f850b285bb6dab056e81fc6b7b0f13c">More...</a><br /></td></tr>
<tr class="separator:a2f850b285bb6dab056e81fc6b7b0f13c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd758a0ed7c0c21b8148a94cb4cf7d2c"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#acd758a0ed7c0c21b8148a94cb4cf7d2c">execRedirection</a> (char *command)</td></tr>
<tr class="memdesc:acd758a0ed7c0c21b8148a94cb4cf7d2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Redirects the stdout or stdin according to the command then return the part to execute.  <a href="#acd758a0ed7c0c21b8148a94cb4cf7d2c">More...</a><br /></td></tr>
<tr class="separator:acd758a0ed7c0c21b8148a94cb4cf7d2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b2d17f2323813b4d07b416dac864607"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a7b2d17f2323813b4d07b416dac864607">execSpecificBuiltIn</a> (int status)</td></tr>
<tr class="memdesc:a7b2d17f2323813b4d07b416dac864607"><td class="mdescLeft">&#160;</td><td class="mdescRight">Once a command has been executed some built in need the main process to do some operations.  <a href="#a7b2d17f2323813b4d07b416dac864607">More...</a><br /></td></tr>
<tr class="separator:a7b2d17f2323813b4d07b416dac864607"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaf09a0107fb252cad9ae1e4b79a2d2e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#aaaf09a0107fb252cad9ae1e4b79a2d2e">runRoot</a> ()</td></tr>
<tr class="memdesc:aaaf09a0107fb252cad9ae1e4b79a2d2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the conditional commands accordingly.  <a href="#aaaf09a0107fb252cad9ae1e4b79a2d2e">More...</a><br /></td></tr>
<tr class="separator:aaaf09a0107fb252cad9ae1e4b79a2d2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a519bcfafab223c80305d981293e68976"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a519bcfafab223c80305d981293e68976">runLevel</a> (<a class="el" href="structCommand.html">Command</a> *command)</td></tr>
<tr class="memdesc:a519bcfafab223c80305d981293e68976"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs recursively levels.  <a href="#a519bcfafab223c80305d981293e68976">More...</a><br /></td></tr>
<tr class="separator:a519bcfafab223c80305d981293e68976"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ebc1d50f11344904f5740c1850cf563"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a7ebc1d50f11344904f5740c1850cf563">runChain</a> (<a class="el" href="structCommand.html">Command</a> *command)</td></tr>
<tr class="memdesc:a7ebc1d50f11344904f5740c1850cf563"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs OR commands until one succeeds.  <a href="#a7ebc1d50f11344904f5740c1850cf563">More...</a><br /></td></tr>
<tr class="separator:a7ebc1d50f11344904f5740c1850cf563"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6df26079137d3e0416a4a25b7710ddd7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a6df26079137d3e0416a4a25b7710ddd7">printLevel</a> (<a class="el" href="structCommand.html">Command</a> *command)</td></tr>
<tr class="memdesc:a6df26079137d3e0416a4a25b7710ddd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints levels recursively.  <a href="#a6df26079137d3e0416a4a25b7710ddd7">More...</a><br /></td></tr>
<tr class="separator:a6df26079137d3e0416a4a25b7710ddd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd8f79015a05355a1de0d482dd5e3f68"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#abd8f79015a05355a1de0d482dd5e3f68">printChain</a> (<a class="el" href="structCommand.html">Command</a> *command)</td></tr>
<tr class="memdesc:abd8f79015a05355a1de0d482dd5e3f68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints a chain recursively.  <a href="#abd8f79015a05355a1de0d482dd5e3f68">More...</a><br /></td></tr>
<tr class="separator:abd8f79015a05355a1de0d482dd5e3f68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab73a7c9eccbf4a4f99b3c29277047555"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ab73a7c9eccbf4a4f99b3c29277047555">executeCmd</a> (<a class="el" href="structCommand.html">Command</a> *cmd)</td></tr>
<tr class="memdesc:ab73a7c9eccbf4a4f99b3c29277047555"><td class="mdescLeft">&#160;</td><td class="mdescRight">Split and execute a command with its parameters.  <a href="#ab73a7c9eccbf4a4f99b3c29277047555">More...</a><br /></td></tr>
<tr class="separator:ab73a7c9eccbf4a4f99b3c29277047555"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a684534c7b8518560805bba0afde262a1"><td class="memItemLeft" align="right" valign="top"><a id="a684534c7b8518560805bba0afde262a1"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>lastStatus</b> = 0</td></tr>
<tr class="separator:a684534c7b8518560805bba0afde262a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0edb4101572ba0d568687c0f728a16b"><td class="memItemLeft" align="right" valign="top"><a id="ab0edb4101572ba0d568687c0f728a16b"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>transferFileDesc</b> = NULL</td></tr>
<tr class="separator:ab0edb4101572ba0d568687c0f728a16b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeecd289a8251e1b14807c400b2beea41"><td class="memItemLeft" align="right" valign="top"><a id="aeecd289a8251e1b14807c400b2beea41"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>exitFileDesc</b> = NULL</td></tr>
<tr class="separator:aeecd289a8251e1b14807c400b2beea41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa857cdd126cfe287f9f43779ec092c6b"><td class="memItemLeft" align="right" valign="top"><a id="aa857cdd126cfe287f9f43779ec092c6b"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>cdFileDesc</b> = NULL</td></tr>
<tr class="separator:aa857cdd126cfe287f9f43779ec092c6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>my_sh <a class="el" href="main_8c.html" title="my_sh main.c ">main.c</a> </p>
<p>This c file is the core of my_sh from here all commands are entered, parsed and executed. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ab5bdcb90e76f36bc8bff45bd937c36a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5bdcb90e76f36bc8bff45bd937c36a7">&#9670;&nbsp;</a></span>console()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int console </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prompts the user for a command then executes it. </p>
<dl class="section return"><dt>Returns</dt><dd>Return code of last command int.</dd></dl>
<p>Uses the function getchar(); to build a char pointer of dynamic size. There is no limit to a command thanks to the realoc. Once a command has been submited it's sent to the <a class="el" href="main_8c.html#a81e1be274560fe16458cec6974b3e8b9" title="Prompts the user for a command then executes it. ">pipeSplit(char*)</a> function. </p>

</div>
</div>
<a id="a2f850b285bb6dab056e81fc6b7b0f13c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f850b285bb6dab056e81fc6b7b0f13c">&#9670;&nbsp;</a></span>execCommand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int execCommand </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>command</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tries to execute a commands as built in, otherwise sends it to the system function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="structCommand.html" title="Command struct . ">Command</a></td><td>pointer to execute char * command. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return code of the command int.</dd></dl>
<p>First of all the command is trimed to remove unnecessary trailing and leading spaces. Then the command is sent to the <a class="el" href="main_8c.html#acd758a0ed7c0c21b8148a94cb4cf7d2c" title="Redirects the stdout or stdin according to the command then return the part to execute. ">execRedirection(char *)</a> function to setup the std's for redirection. After that a condition checks for the need to send this process in the background for "&amp;" background executions. The command is then split by spaces to compare it with built in expressions. Some built in write informations in specific pipes to return specific actions to run in the main process. If the command hasn't been processed yet it is sent to syst </p>

</div>
</div>
<a id="acd758a0ed7c0c21b8148a94cb4cf7d2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd758a0ed7c0c21b8148a94cb4cf7d2c">&#9670;&nbsp;</a></span>execRedirection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* execRedirection </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>command</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Redirects the stdout or stdin according to the command then return the part to execute. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="structCommand.html" title="Command struct . ">Command</a></td><td>pointer to parse char * command. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Part to execute char *.</dd></dl>
<p>This function support &gt;, &gt;&gt;, &lt; and &lt;&lt; operators and redirects the stdin and out accordingly. The returned command is the remaining part to be executed in this configuration. This function is exclusively called by a child process of the main one. </p>

</div>
</div>
<a id="a7b2d17f2323813b4d07b416dac864607"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b2d17f2323813b4d07b416dac864607">&#9670;&nbsp;</a></span>execSpecificBuiltIn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int execSpecificBuiltIn </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Once a command has been executed some built in need the main process to do some operations. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Current</td><td>return status int. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>New return status int.</dd></dl>
<p>In the case of the CD built in command, the initial directory change occurs in the child process. But the change must be also applied to the parent process. To do this a pipe is created where the child sends a request for the parent to change it's directory. Here the content of the pipe is interpreted and the working directory of the main process is altered. But wait, the CD request might need previous context cd changes to be valid, so each time a CD command is processed in the child the pipe is fed the CD request. In this function all the CD requests are applied in the order the child did it to sync with him. In the case of the exit buit in command it's pretty similar (but far simpler), a specific pipe is parsed to listen for an exit command, if a request is in the pipe the main process will terminate here with an exit code of 0. </p>

</div>
</div>
<a id="ab73a7c9eccbf4a4f99b3c29277047555"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab73a7c9eccbf4a4f99b3c29277047555">&#9670;&nbsp;</a></span>executeCmd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int executeCmd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCommand.html">Command</a> *&#160;</td>
          <td class="paramname"><em>cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Split and execute a command with its parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="structCommand.html" title="Command struct . ">Command</a></td><td>pointer Command*. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Execution success status int.</dd></dl>
<p>Splits the command and its parameters into a char* array, then pass it to execvp in a child process to execute it. Return 1 if execution succeeds, 0 otherwise. </p>

</div>
</div>
<a id="a91a3bbcc7eb26e8695255b2795d6e46f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91a3bbcc7eb26e8695255b2795d6e46f">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the main application with arguments. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Argument</td><td>array size int argc. </td></tr>
    <tr><td class="paramname">Argument</td><td>array char *argv[]. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Void.</dd></dl>
<p>Starts the main application with arguments. Standard main declaration. </p>

</div>
</div>
<a id="a81e1be274560fe16458cec6974b3e8b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81e1be274560fe16458cec6974b3e8b9">&#9670;&nbsp;</a></span>pipeSplit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pipeSplit </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>command</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prompts the user for a command then executes it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Raw</td><td>command pointer char * command. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return code of the command int.</dd></dl>
<p>Splits the raw command by the pipe "|" symbol, each of the sub commands will run in a different subprocess. This function splits the string with <a class="el" href="tools_8c.html#a0a1bbe9f84776fd2bcb23ca819bb8664" title="Splits a char pointer by a defined delimiter, will return a List of strings. ">strSuperSplit(char *,char *,int)</a> to avoid splitting double pipes "||". After all the piped commands are executed the last stdout output is printed to the console from it's file descriptor. The function <a class="el" href="main_8c.html#a7b2d17f2323813b4d07b416dac864607" title="Once a command has been executed some built in need the main process to do some operations. ">execSpecificBuiltIn(int)</a> is finally executed to execute specific built in commands that need to be run in the main process. </p>

</div>
</div>
<a id="abd8f79015a05355a1de0d482dd5e3f68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd8f79015a05355a1de0d482dd5e3f68">&#9670;&nbsp;</a></span>printChain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void printChain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCommand.html">Command</a> *&#160;</td>
          <td class="paramname"><em>command</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints a chain recursively. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="structCommand.html" title="Command struct . ">Command</a></td><td>pointer Command*. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Void.</dd></dl>
<p>Will go recursively through all commands of a chain and print them. Only used for debugging purposes. </p>

</div>
</div>
<a id="a6df26079137d3e0416a4a25b7710ddd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6df26079137d3e0416a4a25b7710ddd7">&#9670;&nbsp;</a></span>printLevel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void printLevel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCommand.html">Command</a> *&#160;</td>
          <td class="paramname"><em>command</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints levels recursively. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="structCommand.html" title="Command struct . ">Command</a></td><td>pointer Command*. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Void.</dd></dl>
<p>Will go recursively through all level and print their chains. Only used for debugging purposes. </p>

</div>
</div>
<a id="a7ebc1d50f11344904f5740c1850cf563"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ebc1d50f11344904f5740c1850cf563">&#9670;&nbsp;</a></span>runChain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int runChain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCommand.html">Command</a> *&#160;</td>
          <td class="paramname"><em>command</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs OR commands until one succeeds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="structCommand.html" title="Command struct . ">Command</a></td><td>pointer Command*. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Chain succes status int.</dd></dl>
<p>Will go recursively through all command of the OR chain until one suceeds. If a command succeeds 1 is returned, otherwise if none, 0 is returned. </p>

</div>
</div>
<a id="a519bcfafab223c80305d981293e68976"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a519bcfafab223c80305d981293e68976">&#9670;&nbsp;</a></span>runLevel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void runLevel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCommand.html">Command</a> *&#160;</td>
          <td class="paramname"><em>command</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs recursively levels. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="structCommand.html" title="Command struct . ">Command</a></td><td>pointer Command*. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Void.</dd></dl>
<p>Will go recursively through all levels but will stop if the return value of the chain execution is 0. This is done to insure that at least one of the OR commands is executed, otherwise it stops. </p>

</div>
</div>
<a id="aaaf09a0107fb252cad9ae1e4b79a2d2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaaf09a0107fb252cad9ae1e4b79a2d2e">&#9670;&nbsp;</a></span>runRoot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int runRoot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run the conditional commands accordingly. </p>
<dl class="section return"><dt>Returns</dt><dd>Return code of the last command executed int.</dd></dl>
<p>This function is the entry point of the recursive execution of all the conditional commands, the returned value is the last status code of the last command executed. </p>

</div>
</div>
<a id="a92d7837b02495600182bb05807e4bfc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92d7837b02495600182bb05807e4bfc2">&#9670;&nbsp;</a></span>startProcess()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int startProcess </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>command</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parses the command and fork before executing the chain of conditionals commands. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Sub-command</td><td>pointer char * command. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return code of the command int.</dd></dl>
<p>First of all the command is sent to the <a class="el" href="main_8c.html#a07c06892aafb5e69eacc9fb538d939c7" title="Splits the command by &quot;&amp;&amp;&quot; and feeds it into the conditional structure. ">superParse(char *)</a> function to create the structure of conditional commands. Then the main process forks to create a sub-process where the conditinal commands will be executed in order. The main process will then enter a wait() function to wait for the child process to finsih. </p>

</div>
</div>
<a id="a07c06892aafb5e69eacc9fb538d939c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07c06892aafb5e69eacc9fb538d939c7">&#9670;&nbsp;</a></span>superParse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void superParse </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>command</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Splits the command by "&amp;&amp;" and feeds it into the conditional structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="structCommand.html" title="Command struct . ">Command</a></td><td>pointer to be split char * command. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Void.</dd></dl>
<p>The root of the curent structure is first freed. Then the command is split using <a class="el" href="tools_8c.html#a0a1bbe9f84776fd2bcb23ca819bb8664" title="Splits a char pointer by a defined delimiter, will return a List of strings. ">strSuperSplit(char *,char *,int)</a> to avoid a malformed triple "&amp;". Finally the tokens are injected in reverse order in the structure using the <a class="el" href="struct_8c.html#abc8e5f0a85a3fb6a6104ccd692305adb" title="Adds &quot;||&quot; separated commands as the new root. ">addRootCommand(char *)</a> function. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
